# Get all workspace entities and relationships for visualization
# WHY: Force-directed graph needs complete entity data with relationships
query GetWorkspaceVisualization($workspaceId: ID!) {
  mcpServers(workspaceId: $workspaceId) {
    id
    name
    description
    transport
    runOn
    runtime {
      id
      name
    }
    tools {
      id
      name
    }
  }
  mcpTools(workspaceId: $workspaceId) {
    id
    name
    description
    status
    mcpServer {
      id
      name
    }
    runtimes {
      id
      name
    }
    toolSets {
      id
      name
    }
  }
  workspace {
    id
    name
    runtimes {
      id
      name
      description
      status
      mcpServers {
        id
        name
      }
      mcpToolCapabilities {
        id
        name
      }
    }
    toolSets {
      id
      name
      description
      status
      mcpToolCapabilities {
        id
        name
      }
    }
  }
  toolCalls(workspaceId: $workspaceId, limit: 100) {
    toolCalls {
      id
      status
      calledAt
      mcpTool {
        id
        name
      }
      calledBy {
        id
        name
      }
      executedBy {
        id
        name
      }
    }
  }
}
